<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="js/pp3diso.css" rel="stylesheet" type="text/css" />
    <link href="js/moj.css" rel="stylesheet" type="text/css" />
    
    <script src="js/items.js" type="text/javascript"></script>
    
    <script src="js/jquery-3.6.0.min.js" type="text/javascript"></script>
    <!--<script src="https://code.jquery.com/jquery-migrate-3.4.1.js"></script>-->
    <script src="js/jquery.pp3Diso-v2.js" type="text/javascript"></script>

    <script src="podstawy.js" type="text/javascript"></script>
    
    <title>Document</title>
</head>
<body>
    <script>
        var mapa = new Array(5);


        

        //syf do mapy (wszystko tu tymczasowe)-------------------
        for(var i = 0; i < mapa.length; i++){
            mapa[i] = new Array(mapa.length);
        }
        for(var i = 0; i < mapa.length; i++){
            for(var j = 0; j < mapa[i].length; j++){
                mapa[i][j] = "01";
            }
        }
        var m ='';
        for(var i = 0; i < mapa.length; i++){
            m=m+mapa[i].join(",");
            if (i<mapa.length-1) {
                m=m+":";
            }
        }
        var pokoj = true;

        // koniec syfu do mapy ---------------------------------
        
        
        
        $(document).ready(function(){
            ppmap = $("#ppISO").pp3Diso({ //podstawa
                map: m, // the map
                mapId: 1, // map id
                tx: 960, // x dimension of tiles
                ty: 960, // y dimension of tiles
                auto_size: false,
                drag: true,
                zoom: 0.1,
                mousewheel: true,
                keys: false, 
                onclicobject: function(x,y,id){

                    //console.log(pokazObiekt(x,y));
                    console.log(x+", "+y);
                }
            });
            /*
            if (pokoj){ //robi ściany
                for (var i = 1; i < mapa.length+1; i++) {
                    ppmap.addObject(i, 1, 'images/sciana_szara_prawo1.png', 0, (-960*3)+242, "sciana");
                    ppmap.addObject(1, i, 'images/sciana_szara_lewo.png', 0, (-960*3)+242, "sciana");
                }
            }*/
            stworzRzeczyIObiekty();
            //ppmap.addObject(1, 1, 'images/sciana_szara_prawo1.png', 0, (-960*3)+242, "sciana");
            usunCursor();
        });



    </script>
    <div id="ppISO"></div>
    <div id="menu"> 
        <table border="1px">
            <tr id="pierwszyrzad">
                <td id="pierwszaKolumna"><app-info id="gold"> </app-info></td>
                <td><app-info id="diamonds"> </app-info></td>
            </tr>
            <tr id="drugirzad">
                <td>
                    <button id="sprzedaj" onclick="">Sprzedaj</button>
                </td>
                <td>
                    <button onclick="">Sklep</button>
                </td>
            </tr>
            <tr>
                <td><p id="podglad"></p><br></td>
                <td></td>
            </tr>
            <tr>
                <td></td>
                <td></td>
            </tr>
        </table>
    </div>
    <div id="budowa" hidden>
        Kliknij gdzie chcesz postawić zakupiony przedmiot
        <button onclick="budowa = false">Anuluj</button>
    </div>
    
    <div id="sklep" hidden>
        <button onclick="sklep.zamknij()">Wyjście</button><br>
    </div>
    
</body>
</html>